# [0009. Qwerty Learner æ‰“å­—ç»ƒä¹  + å­¦ä¹ å¤–è¯­å·¥å…·](https://github.com/Tdahuyou/TNotes.notes/tree/main/notes/0009.%20Qwerty%20Learner%20%E6%89%93%E5%AD%97%E7%BB%83%E4%B9%A0%20%2B%20%E5%AD%A6%E4%B9%A0%E5%A4%96%E8%AF%AD%E5%B7%A5%E5%85%B7)

<!-- region:toc -->

- [ğŸ“º bilibili ğŸ‘‰ TNotes åˆé›†](https://space.bilibili.com/407241004)
  - [bilibili.TNotes.notes.0009.1](https://www.bilibili.com/video/BV1sj411A7r2)
  - [bilibili.TNotes.notes.0009.2](https://www.bilibili.com/video/BV1w24y1p79A)
- [1. ğŸ“ æ¦‚è¿°](#1--æ¦‚è¿°)
- [2. ğŸ”— Qwerty Learner åœ¨çº¿è®¿é—®é“¾æ¥](#2--qwerty-learner-åœ¨çº¿è®¿é—®é“¾æ¥)
- [3. ğŸ“º TNotes.bilibili](#3--tnotesbilibili)
- [4. ğŸ’» æå–å•è¯æ•°æ®çš„è„šæœ¬ï¼ˆæ—§ç‰ˆï¼‰](#4--æå–å•è¯æ•°æ®çš„è„šæœ¬æ—§ç‰ˆ)
- [5. ğŸ¤” Q&A](#5--qa)
  - [5.1. ğŸ¤” é—®ï¼šå¦‚ä½•å¯¼å…¥æ–°çš„è¯å…¸ï¼Ÿ](#51--é—®å¦‚ä½•å¯¼å…¥æ–°çš„è¯å…¸)
  - [5.2. ğŸ¤” é—®ï¼šå¦‚ä½•ä¸‹è½½ Qwerty Learner æ¡Œé¢ç‰ˆï¼Ÿ](#52--é—®å¦‚ä½•ä¸‹è½½-qwerty-learner-æ¡Œé¢ç‰ˆ)
  - [5.3. ğŸ¤” é—®ï¼šå¦‚ä½•ç»™ Qwerty Learner é¡¹ç›®æå»ºè®® or é—®é¢˜ï¼Ÿ](#53--é—®å¦‚ä½•ç»™-qwerty-learner-é¡¹ç›®æå»ºè®®-or-é—®é¢˜)
- [6. ğŸ”— References](#6--references)

<!-- endregion:toc -->

## 1. ğŸ“ æ¦‚è¿°

- Qwerty Learner ç®€ä»‹
- å•è¯æ•°æ®æºæå–æ–¹å¼è¯´æ˜

## 2. ğŸ”— Qwerty Learner åœ¨çº¿è®¿é—®é“¾æ¥

- https://qwerty.kaiyi.cool/
- https://qwerty-learner.vercel.app/
- https://realkai42.github.io/qwerty-learner/

## 3. ğŸ“º TNotes.bilibili

- å¦‚æœæŠŠæƒ³è¦åˆ†äº«çš„å†…å®¹å…¨éƒ¨éƒ½ä»‹ç»å®Œï¼Œä¼°è®¡æ—¶é—´ä¼šå¾ˆé•¿ï¼Œæ‰€ä»¥è®¡åˆ’æ‹†åˆ†ä¸ºä¿©è§†é¢‘æ¥ä»‹ç»ï¼Œæ¯ä¸ªè§†é¢‘æŠŠæƒ³è¦è¯´æ˜çš„æ ¸å¿ƒè¦ç‚¹ç»™è®²æ¸…æ¥šå°±å¥½ã€‚
- å½•åˆ¶çš„ä¸¤ä¸ªåˆ†äº«è§†é¢‘æ—¶é•¿åŠ èµ·æ¥æœ‰ `40min` äº†ï¼Œå…¶ä¸­ç¬¬äºŒä¸ªè§†é¢‘çš„è¾ƒå¤§ç¯‡å¹…æ˜¯åœ¨ä»‹ç»å¦‚ä½•è§£æå¹¶åˆ©ç”¨è¯å…¸æ•°æ®æºã€‚

<BilibiliOutsidePlayer id="BV1sj411A7r2" />

- **è§†é¢‘å†…å®¹æ¦‚è¿°**
  - å¯¹äº Qwerty Learner å·¥å…·çš„ç›¸å…³åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªè§†é¢‘å¿«é€Ÿäº†è§£ã€‚
  - è§†é¢‘å¼€å§‹éƒ¨åˆ†ï¼Œå…ˆå›é¡¾äº† `TNotes.notes.0008` ä¸­æåˆ°çš„æ‰“å­—æŒ‡æ³•æ•™ç¨‹ã€‚
    - è‹¥ä¸ç†Ÿæ‚‰æ‰“å­—æŒ‡æ³•ï¼Œå»ºè®®å›çœ‹ä¸€ä¸‹ä¸ŠæœŸè§†é¢‘çš„ååŠéƒ¨åˆ† â€”â€” æ‰“å­—æŒ‡æ³•æ•™ç¨‹ã€‚
  - æœ€åï¼Œä»‹ç» qwerty learner è¿™æ¬¾å·¥å…·ï¼Œå¹¶ç®€å•è¯´æ˜äº†ä¸€ä¸‹ç¬¬äºŒä¸ªè§†é¢‘çš„å†…å®¹ã€‚

<BilibiliOutsidePlayer id="BV1w24y1p79A" />

- **è§†é¢‘å†…å®¹æ¦‚è¿°**
  - ä¸ŠæœŸè§†é¢‘ç®€ä»‹
  - ä»‹ç»æ•°æ®çš„è·å–æ–¹å¼
  - å±•ç¤ºè§£æåçš„æ•°æ®çš„ç»“æ„
  - ä»‹ç» qwerty learner è¯å…¸æ•°æ®æº
  - ä»‹ç» qwerty learner æ¡Œé¢ç‰ˆçš„è·å–æ–¹å¼
  - è„šæœ¬ä½¿ç”¨ & åŠŸèƒ½ä»‹ç»
  - å¦‚ä½•å°†æ•°æ®å¯¼å‡ºä¸º PDFã€word

## 4. ğŸ’» æå–å•è¯æ•°æ®çš„è„šæœ¬ï¼ˆæ—§ç‰ˆï¼‰

- è¿™éƒ¨åˆ†å†…å®¹æ¶‰åŠåˆ°ä¸€äº›ç¼–ç¨‹ç›¸å…³çš„çŸ¥è¯†ï¼Œæš‚æ—¶è¿˜æ²¡èƒ½åŠ›è·Ÿå¤§å®¶ä»‹ç»æ¸…æ¥šåŸç†ã€‚æ‰€ä»¥å°±ç®€å•è¯´æ˜ä¸€ä¸‹æ­¥éª¤ï¼Œå’Œå®ç°é€»è¾‘ã€‚
  - æ­¥éª¤ï¼š
    1. å®‰è£… node ç¯å¢ƒ
    2. éšä¾¿æ‰¾ä¸ªåœ°æ–¹ï¼Œæ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ `sources`ã€`results`
    3. ä¸‹è½½è¯å…¸æºæ•°æ®åˆ° sources ç›®å½•ä¸­ï¼Œå¹¶è§£å‹
    4. æ‰§è¡Œè„šæœ¬
  - éœ€è¦å…·å¤‡çš„åŸºæœ¬ç¼–ç¨‹çŸ¥è¯†ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š
    - æ–‡ä»¶çš„ I O æ“ä½œ
    - å­—ç¬¦ä¸²æ‹¼æ¥
- å¤‡æ³¨ï¼š
  - å…·ä½“æ­¥éª¤å‘¢ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥å›çœ‹ç¬¬äºŒæœŸè§†é¢‘çš„ååŠéƒ¨åˆ†ã€‚
  - è¿™é‡Œå¤§å®¶å¬ä¸€ä¹å°±å¥½ï¼Œæ¯•ç«Ÿæ‰€æœ‰çš„è¯å…¸æ•°æ®æºéƒ½å·²ç»è¶´ä¸‹æ¥äº†ã€‚
  - å¦‚æœä½ æƒ³è¦è‡ªå®šä¹‰å•è¯æ•°æ®æ ¼å¼ï¼Œå¯ä»¥è€ƒè™‘åŸºäºä»¥ä¸‹è„šæœ¬åšç‚¹å„¿ç®€å•çš„ä¿®æ”¹æ¥å®ç°ã€‚
  - `TNotes.en-notes`ã€`TNotes.en-words`
    - åœ¨æˆ‘çš„è‹±è¯­å­¦ä¹ ç›¸å…³çš„çŸ¥è¯†åº“ä¸­ä¹Ÿç”¨åˆ°äº†ä»¥ä¸‹æå–å•è¯çš„è„šæœ¬ï¼Œå…¶ä¸­ `TNotes.en-words` ä¸­çš„å•è¯åˆå§‹æ•°æ®å°±æ˜¯ä»è¯å…¸ä¸­æ‰’ä¸‹æ¥çš„ã€‚

::: code-group

```javascript [æå–å•è¯æ•°æ®çš„è„šæœ¬]
const fs = require('fs')
const path = require('path')
// const {
//   EOL
// } = require('os')

/**
 * æºç›®å½•å
 */
const SOURCE_FOLDER_NAME = 'sources'
/**
 * ç›®æ ‡ç›®å½•å
 */
const RESULT_FOLDER_NAME = 'results'
/**
 * ä¸€ä¸ªå•è¯ä¸‹è¾¹çš„å­æ ‡é¢˜
 */
const SUB_TITLE = {
  sentence: 'ä¾‹å¥',
  phrase: 'çŸ­è¯­',
  trans: 'è¯ä¹‰',
  relWord: 'å…³è”è¯æ±‡',
  ukphone: 'UK',
  usphone: 'US',
  syno: 'åŒä¹‰è¯',
}

let sourcesFolderPath = path.join(__dirname, SOURCE_FOLDER_NAME) // sources ç›®å½•çš„ç»å¯¹è·¯å¾„
let resultsFolderPath = path.join(__dirname, RESULT_FOLDER_NAME) // results ç›®å½•çš„ç»å¯¹è·¯å¾„

const JSON_FileList = fs
  .readdirSync(sourcesFolderPath)
  .filter((p) => p.includes('.json'))
  .map((p) => path.join(sourcesFolderPath, p)) // sources ç›®å½•ä¸‹æ‰€æœ‰ json æ–‡ä»¶çš„ç»å¯¹è·¯å¾„

for (let i = 0; i < JSON_FileList.length; i++) {
  writeFile(JSON_FileList[i])
}

// å†™å…¥æ–‡ä»¶
function writeFile(fileName) {
  // å¤„ç†æ–‡ä»¶å†…å®¹
  let fileContent = fs.readFileSync(fileName, 'utf-8')
  fileContent = '[' + fileContent + ']'

  fileContent = fileContent.replaceAll(/}\r\n/g, '},').replaceAll(/},]/g, '}]')
  // console.log(fileContent);

  let data = JSON.parse(fileContent)

  // è§£æçš„ json è¯å…¸åç§°
  const basename = path.basename(fileName, '.json')

  // æ¸…ç©º results ç›®å½•ä¸‹æŒ‡å®šè¯å…¸ç›®å½•
  const resultFolderPath = path.join(resultsFolderPath, basename)
  emptyDir(resultFolderPath)
  rmEmptyDir(resultFolderPath)
  fs.mkdirSync(resultFolderPath)

  // å•è¯åˆ—è¡¨ï¼ˆåªå«å•è¯ï¼‰
  const headWords = data.map((w) => w.headWord)
  // console.log(headWords)
  const checkString =
    `# ${basename}\n` +
    headWords
      .map((h, i) => {
        if (i % 20 === 0)
          return `\n#### Chapter ${i / 20 + 1}\n\n` + `- [ ] ${h}\n`
        else return `- [ ] ${h}\n`
      })
      .join('')
  fs.writeFileSync(path.join(resultFolderPath, `./${basename}.md`), checkString)

  let chapterString
  let chapterNum = 0
  data.forEach((it, i) => {
    if (i === data.length - 1)
      fs.writeFileSync(
        path.join(resultFolderPath, `./Chapter ${chapterNum}.md`),
        chapterString
      )
    // æ‹¼æ¥ç« èŠ‚ å››çº§æ ‡é¢˜
    if (i % 20 === 0) {
      if (chapterNum !== 0)
        fs.writeFileSync(
          path.join(resultFolderPath, `./Chapter ${chapterNum}.md`),
          chapterString
        )
      chapterNum++
      chapterString = ''
      chapterString += `# Chapter ${chapterNum}`
      chapterString += '\n\n'

      // æ‹¼æ¥è¯¥ chapter ä¸­çš„æ‰€æœ‰å•è¯ä¸º checkbox
      chapterString += headWords
        .slice((chapterNum - 1) * 20, chapterNum * 20)
        .map((h) => `- [ ] ${h}\n`)
        .join('')
      chapterString += '\n'
    }

    // æ‹¼æ¥å•è¯ äº”çº§æ ‡é¢˜
    chapterString += `# ${(i % 20) + 1}. ${it.headWord}`
    chapterString += '\n\n'
    const word = it.content.word.content

    // æ‹¼æ¥å‘éŸ³
    chapterString += `${SUB_TITLE.usphone}: [${word.usphone}]` + '\n'
    chapterString += `${SUB_TITLE.ukphone}: [${word.ukphone}]` + '\n\n'

    // æ‹¼æ¥è¯ä¹‰
    if (word.trans && word.trans.length > 0) {
      const trans = word.trans
      chapterString += `## ${SUB_TITLE.trans}` + '\n\n'
      for (let i = 0; i < trans.length; i++) {
        const t = trans[i]
        if (t.pos && t.tranCn)
          chapterString += `${t.pos}. ${t.tranCn.replace(/\s/g, '')}` + '\n'
        if (t.tranOther) chapterString += `\`${t.tranOther}\``
        chapterString += '\n\n'
      }
    }

    // æ‹¼æ¥åŒä¹‰è¯
    if (word.syno && word.syno.synos && word.syno.synos.length > 0) {
      const synos = word.syno.synos
      chapterString += `## ${SUB_TITLE.syno}` + '\n\n'
      for (let i = 0; i < synos.length; i++) {
        const s = synos[i]
        const w = s.hwds.map((h) => `\`${h.w}\``).join(' ')
        chapterString += `${s.pos}. ${s.tran}` + '\n' + w + '\n\n'
      }
      chapterString += '\n'
    }

    // æ‹¼æ¥çŸ­è¯­
    if (word.phrase && word.phrase.phrases) {
      const phrase = word.phrase
      const phrases = phrase.phrases
      chapterString += `## ${phrase.desc}` + '\n\n'
      phrases.forEach((p) => {
        chapterString += `- \`${p.pContent}\` ${p.pCn}` + '\n'
      })
      chapterString += '\n'
    }

    // æ‹¼æ¥ä¾‹å¥
    if (word.sentence && word.sentence.sentences) {
      const sentence = word.sentence
      const sentences = sentence.sentences
      chapterString += `## ${sentence.desc}` + '\n\n'
      sentences.forEach((s) => {
        chapterString += `\`${s.sContent}\`` + '\n' + s.sCn + '\n\n'
      })
      chapterString += '\n'
    }
  })
}

/**
 * åˆ é™¤æ‰€æœ‰çš„æ–‡ä»¶(å°†æ‰€æœ‰æ–‡ä»¶å¤¹ç½®ç©º)
 * @param {*} filePath
 */
function emptyDir(filePath) {
  try {
    const files = fs.readdirSync(filePath) // è¯»å–è¯¥æ–‡ä»¶å¤¹
    files.forEach((file) => {
      const nextFilePath = `${filePath}/${file}`
      const states = fs.statSync(nextFilePath)
      if (states.isDirectory()) {
        emptyDir(nextFilePath)
      } else {
        fs.unlinkSync(nextFilePath)
        // console.log(`åˆ é™¤æ–‡ä»¶ ${nextFilePath} æˆåŠŸ`)
      }
    })
  } catch (error) {
    // console.log(error)
    return
  }
}

/**
 * åˆ é™¤æ‰€æœ‰çš„ç©ºæ–‡ä»¶å¤¹
 * @param {*} filePath
 */
function rmEmptyDir(filePath) {
  try {
    const files = fs.readdirSync(filePath)
    if (files.length === 0) {
      fs.rmdirSync(filePath)
      // console.log(`åˆ é™¤ç©ºæ–‡ä»¶å¤¹ ${filePath} æˆåŠŸ`)
    } else {
      let tempFiles = 0
      files.forEach((file) => {
        tempFiles++
        const nextFilePath = `${filePath}/${file}`
        rmEmptyDir(nextFilePath)
      })
      //åˆ é™¤æ¯æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­—ç©ºæ–‡ä»¶å¤¹åï¼Œå°†æ¯æ–‡ä»¶å¤¹ä¹Ÿåˆ é™¤
      if (tempFiles === files.length) {
        fs.rmdirSync(filePath)
        // console.log(`åˆ é™¤ç©ºæ–‡ä»¶å¤¹ ${filePath} æˆåŠŸ`)
      }
    }
  } catch (error) {
    // console.log(error)
    return
  }
}
```

:::

## 5. ğŸ¤” Q&A

### 5.1. ğŸ¤” é—®ï¼šå¦‚ä½•å¯¼å…¥æ–°çš„è¯å…¸ï¼Ÿ

- https://github.com/RealKai42/qwerty-learner/blob/master/docs/toBuildDict.md
  - è¿™ç¯‡å®˜æ–¹æ–‡æ¡£ä»‹ç»äº†åº”è¯¥æ€ä¹ˆåšã€‚
- æˆ‘æš‚æ—¶æ²¡æœ‰æ­¤éœ€æ±‚ï¼Œå°šæœªå®é™…æ“ä½œè¿‡ã€‚

### 5.2. ğŸ¤” é—®ï¼šå¦‚ä½•ä¸‹è½½ Qwerty Learner æ¡Œé¢ç‰ˆï¼Ÿ

- https://github.com/tw93/Pake
  - ä½ å¯ä»¥åœ¨è¿™é‡Œè·å– Qwerty Learner çš„æ¡Œé¢ç‰ˆå®‰è£…åŒ…ã€‚
- å¦‚æœä½ ä¹Ÿè®¤ä¸ºè¿™æ˜¯ä¸€æ¬¾éå¸¸ä¸é”™çš„å·¥å…·ï¼Œå¹¶ä¸”ç»å¸¸ä½¿ç”¨çš„è¯ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡å®‰è£…å®ƒçš„æ¡Œé¢ç‰ˆï¼Œä»¥é™ä½è®¿é—®æˆæœ¬ã€‚
- æˆåŠŸå®‰è£…å®Œä¹‹åï¼Œå®ƒå°±åƒä½ ç”µè„‘ä¸Šçš„æµè§ˆå™¨ä¸€æ ·ï¼Œéœ€è¦çš„æ—¶å€™ï¼Œç›´æ¥ç‚¹å‡»æ¡Œé¢å›¾æ ‡å³å¯å¿«é€Ÿæ‰“å¼€ã€‚
- å¦‚æœä½ ä½¿ç”¨çš„æµè§ˆå™¨æ”¯æŒå°†é¡µé¢æœ¬åœ°åŒ–ï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘è¿™ç§æ–¹å¼ï¼Œå…·ä½“åšæ³•è§ä¸‹å›¾ã€‚
  - ![å›¾ 0](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-05-04-07-53-31.png)
  - å¿«æ·æ–¹å¼åˆ›å»ºæˆåŠŸä¹‹åï¼Œå¯ä»¥æœ¬åœ°çœ‹åˆ°æ–°å»ºçš„ Chrome åº”ç”¨ï¼Œå®ƒå°±å¥½æ¯”æ˜¯ä¸€ä¸ªæ¡Œé¢åº”ç”¨ï¼Œä½ å¯ä»¥å°†å…¶å›ºå®šåˆ°åº•éƒ¨çš„æ‰©å±•åä¸­ï¼ˆMacï¼‰æˆ–è€…æ·»åŠ åˆ°æ¡Œé¢ä¸Šï¼ˆWindowsï¼‰ã€‚
  - ![å›¾ 1](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-05-04-07-53-53.png)
- å¤„ç† macOS ä¸Šçš„éªŒè¯é—®é¢˜ï¼š
  - å¦‚æœåœ¨ macos ä¸Šæ‰“å¼€å®‰è£…å¥½çš„åº”ç”¨æ—¶å‡ºç°ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„æŠ¥é”™ï¼Œå¯ä»¥åœ¨ã€åº”ç”¨ç¨‹åºã€‘ç›®å½•ä¸­æ‰¾åˆ°ã€Qwertyã€‘ç„¶åå³é”®æ‰“å¼€å®ƒã€‚
  - ![å›¾ 2](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-05-04-07-56-05.png)
  - ![å›¾ 3](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-05-04-07-56-14.png)
  - ä¸ºäº†ä¸‹æ¬¡èƒ½å¤Ÿæ›´åŠ æ–¹ä¾¿åœ°æ‰“å¼€ Qwertyï¼Œä½ å¯ä»¥å°†å…¶å›ºå®šåœ¨ç¨‹åºæ‰©å±•åä¸­ã€‚
  - ![å›¾ 4](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-05-04-07-56-25.png)

### 5.3. ğŸ¤” é—®ï¼šå¦‚ä½•ç»™ Qwerty Learner é¡¹ç›®æå»ºè®® or é—®é¢˜ï¼Ÿ

- ç›´æ¥ç»™é¡¹ç›®æ [Issues](https://github.com/Kaiyiwing/qwerty-learner/issues)ï¼ˆå»ºè®® or é—®é¢˜ï¼‰å³å¯ã€‚

## 6. ğŸ”— References

::: details

- https://github.com/Kaiyiwing
  - Qwerty Learner ä½œè€…ã€‚
- https://github.com/Kaiyiwing/qwerty-learner
  - Qwerty Learner é¡¹ç›® GitHub é“¾æ¥ã€‚
- https://github.com/kajweb/dict
  - è¯å…¸æ•°æ®æ¥æº
- https://github.com/RealKai42/qwerty-learner/blob/master/docs/toBuildDict.md
  - è¿™ç¯‡å®˜æ–¹æ–‡æ¡£ä»‹ç»äº†å¦‚ä½•å¯¼å…¥æ–°çš„è¯å…¸
- https://github.com/tw93/Pake
  - å¯ä»¥åœ¨è¿™é‡Œè·å– Qwerty Learner çš„æ¡Œé¢ç‰ˆå®‰è£…åŒ…ã€‚
- https://github.com/Kaiyiwing/qwerty-learner/issues
  - ç»™ Qwerty Learner é¡¹ç›®æå»ºè®® or é—®é¢˜çš„å…¥å£ã€‚

:::
